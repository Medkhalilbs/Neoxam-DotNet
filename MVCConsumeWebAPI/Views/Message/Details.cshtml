@model PI_Neoxam_GRH.Domain.Enities.message


@{
    ViewBag.Title = "Create";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<h2>Envoyer un message</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })


        <div class="" style="padding-left: 0px;">

            <div class="form-group">
                @Html.Label("Visibilité message", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-12">
                    @Html.DisplayTextFor(model => model.visibiliteMessage)
                  
                </div>
            </div>
        </div>

        <div class="destinaire box" style="padding-left: 0px;">
            <div class="form-group">
                @Html.Label("Recu de la part de :", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-12">
                    @Html.DisplayTextFor(model => model.user.login)
                   
                </div>
            </div>
        </div>

        <div class="form-group">
            @Html.Label("Sujet", htmlAttributes: new { @class = "control-label col-md-12" })
            <div class="col-md-12">
                @Html.DisplayTextFor(model => model.sujet)
               
            </div>
        </div>

        @(Html.Kendo().Editor()
      .Name("contenu")
      .HtmlAttributes(new { style = "height:440px", aria_label = "editor" })
      .Resizable(resizable => resizable.Content(true).Toolbar(true))
      //.ImageBrowser(imageBrowser => imageBrowser
      //    .Image("~/Content/UserFiles/Images/{0}")
      //    .Read("Read", "ImageBrowser")
      //     .Create("Create", "ImageBrowser")
      //    .Destroy("Destroy", "ImageBrowser")
      //   .Upload("Upload", "ImageBrowser")
      //   .Thumbnail("Thumbnail", "ImageBrowser")
      //)
      .Value(@<text>
        <p>
            <img src="@Url.Content("~/Images/neoxam.JPG")" alt="Neoxam" style="display:block;margin-left:auto;margin-right:auto; width:100px;height:50px" />
        </p>
        <hr />

    </text>)
        )






    </div>
}

<div>
    @Html.ActionLink("Retourner a la liste", "Index")
</div>


<script>

                function change() {
                    var value = $("#visibiliteMessage").val();


                    if (value == "public") {
                        $(".destinaire").hide();
                    }
                    if (value == "personnel") {
                        $(".destinaire").show();
                    }


                };
</script>

<style>
    #sujet {
        width: 80%;
    }
</style>
<script>
    function onAdditionalData() {
        return {
            text: $("#destinataire").val()
        };
    }
</script>